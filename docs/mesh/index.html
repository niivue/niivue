<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-mesh" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Mesh | NiiVue</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://niivue.com/docs/mesh"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Mesh | NiiVue"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://niivue.com/docs/mesh"><link data-rh="true" rel="alternate" href="https://niivue.com/docs/mesh" hreflang="en"><link data-rh="true" rel="alternate" href="https://niivue.com/docs/mesh" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c050c5d0.css">
<script src="/assets/js/runtime~main.9746a549.js" defer="defer"></script>
<script src="/assets/js/main.06011541.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_G6ar" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">NiiVue</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a><a class="navbar__item navbar__link" href="/gallery">Gallery</a><a href="https://niivue.com/demos/devdocs/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/niivue/niivue" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_OLSw colorModeToggle_Hg9V"><button class="clean-btn toggleButton_wYmb toggleButtonDisabled_vaDU" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Sxwe"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Yem1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_bmvg"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_UyTV"><div class="docsWrapper_XLvK"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_z1FD" type="button"></button><div class="docRoot_HciC"><aside class="theme-doc-sidebar-container docSidebarContainer_e5ai"><div class="sidebarViewport_N8x0"><div class="sidebar_vJCc"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_qiME"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Loading images">Loading images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/colormaps">Using Colormaps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/layouts">Layouts and Slice Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/syncing">Synchronizing Multiple Views</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/thresholding">Statistical Thresholding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/drawing">Drawing and Segmentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contribute">Contribute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop">Development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/plugins">Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/webgl">WebGL2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/fonts">Fonts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/mesh">Mesh</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/colormaps2">Advanced Colormaps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dicom">DICOM</a></li></ul></nav></div></div></aside><main class="docMainContainer_namt"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_YAwJ"><div class="docItemContainer_Rv5Z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zCmv" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JFrk"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Mesh</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_O_Qc theme-doc-toc-mobile tocMobile_tjDr"><button type="button" class="clean-btn tocCollapsibleButton_htYj">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Mesh</h1></header><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>NiiVue can simultaneously show voxels and meshes. It can view three different classes of meshes: triangulated meshes, connecotmes and streamlines. These different classes have different properties and are stored in different formats. This page describes these classes.</p>
<p><img decoding="async" loading="lazy" alt="alt tag" src="/assets/images/mesh1-517c53cd0e2ade42b52a132fded9e7c3.png" width="793" height="716" class="img__Ss2"></p>
<p>The image above is from a NiiVue <a href="https://niivue.com/demos/features/clipplanes.html" target="_blank" rel="noopener noreferrer">live demo</a>. It shows a grayscale voxel-based image with a red voxel-based overlay. It also shows all three classes of meshes: the green cortical surface is a <code>triangulated mesh</code>, with a statistical overlay shown in orange. The ball and stick <code>connectome</code> is also visible. Finally, a blue <code>streamline</code> tract is visible. These three classes are illustrated in the figure below</p>
<p><img decoding="async" loading="lazy" alt="alt tag" src="/assets/images/mesh2-c36a1d140ead741e2143ed2bdc0993dd.png" width="3069" height="577" class="img__Ss2"></p>
<h5 class="anchor anchorWithStickyNavbar_fF9Z" id="triangulated-meshes">Triangulated Meshes<a href="#triangulated-meshes" class="hash-link" aria-label="Direct link to Triangulated Meshes" title="Direct link to Triangulated Meshes">​</a></h5>
<ul>
<li>Triangulated meshes are based on vertex locations as well as indices that group the vertices into discrete triangles. Vertices are often reused by multiple triangles: in the figure above <code>v1</code> and <code>v2</code> are each used by two triangles.</li>
<li>NiiVue never adjusts the position of triangulated mesh vertices.</li>
<li>The winding order of the indices discriminates the front from the back face. Therefore, the front face of the triangle <code>0,1,2</code> is the back face for <code>0,2,1</code>. NiiVue assumes a <a href="https://learnwebgl.brown37.net/model_data/model_volume.html#:~:text=The%20order%20of%20a%20triangle&#x27;s,is%20called%20the%20winding%20order." target="_blank" rel="noopener noreferrer">counter clockwise winding order</a>.</li>
<li>Triangulated mesh color can be influenced by overlays, which specify the scalar intensity (e.g. statistical map) or red/green/blue color of each vertex. The <a href="https://niivue.com/demos/features/mesh.atlas.html" target="_blank" rel="noopener noreferrer">NiiVue mesh atlas live demo</a> allows the user to interactively adjust the transparency of two overlays on a single mesh: an atlas as well as a statistical map.</li>
<li>Supported mesh-based formats: <a href="https://www.nitrc.org/projects/gifti/" target="_blank" rel="noopener noreferrer">GIfTI</a>, <a href="http://www.grahamwideman.com/gw/brain/fs/surfacefileformats.htm" target="_blank" rel="noopener noreferrer">ASC</a>, <a href="http://www.grahamwideman.com/gw/brain/fs/surfacefileformats.htm" target="_blank" rel="noopener noreferrer">BYU/GEO/G</a>, <a href="http://brainsuite.org/formats/dfs/" target="_blank" rel="noopener noreferrer">BrainSuite DFS</a>, <a href="http://www.grahamwideman.com/gw/brain/fs/surfacefileformats.htm" target="_blank" rel="noopener noreferrer">ICO/TRI</a>, <a href="https://en.wikipedia.org/wiki/PLY_(file_format)" target="_blank" rel="noopener noreferrer">PLY</a>, <a href="https://www.nitrc.org/projects/bnv/" target="_blank" rel="noopener noreferrer">BrainNet NV</a>, <a href="https://support.brainvoyager.com/brainvoyager/automation-development/84-file-formats/344-users-guide-2-3-the-format-of-srf-files" target="_blank" rel="noopener noreferrer">BrainVoyager SRF</a>, <a href="http://www.grahamwideman.com/gw/brain/fs/surfacefileformats.htm" target="_blank" rel="noopener noreferrer">FreeSurfer</a>, <a href="https://github.com/neurolabusc/surf-ice/tree/master/mz3" target="_blank" rel="noopener noreferrer">MZ3</a>, <a href="https://en.wikipedia.org/wiki/OFF_(file_format)" target="_blank" rel="noopener noreferrer">OFF</a>, <a href="https://brainder.org/tag/obj/" target="_blank" rel="noopener noreferrer">Wavefront OBJ</a>, <a href="https://medium.com/3d-printing-stories/why-stl-format-is-bad-fea9ecf5e45" target="_blank" rel="noopener noreferrer">STL</a>, <a href="https://vtk.org/wp-content/uploads/2015/04/file-formats.pdf" target="_blank" rel="noopener noreferrer">Legacy VTK</a>, <a href="https://3dprint.nih.gov/" target="_blank" rel="noopener noreferrer">X3D</a>.</li>
<li>Supported mesh overlay formats: <a href="https://www.nitrc.org/projects/gifti/" target="_blank" rel="noopener noreferrer">GIfTI</a>, <a href="https://balsa.wustl.edu/about/fileTypes" target="_blank" rel="noopener noreferrer">CIfTI-2</a>, <a href="https://github.com/neurolabusc/surf-ice/tree/master/mz3" target="_blank" rel="noopener noreferrer">MZ3</a>, <a href="https://support.brainvoyager.com/brainvoyager/automation-development/84-file-formats/40-the-format-of-smp-files" target="_blank" rel="noopener noreferrer">SMP</a>, STC, FreeSurfer (CURV/ANNOT).</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_fF9Z" id="connectomes">Connectomes<a href="#connectomes" class="hash-link" aria-label="Direct link to Connectomes" title="Direct link to Connectomes">​</a></h5>
<ul>
<li>Connectomes are ball and stick figures that represent nodes (spheres) and the edges (cylinders) that connect them.</li>
<li>NiiVue extrudes the node location and edge weights to triangulated spheres and cylinders - the diameter of these structures can interactively adjusted. The sliders for the <a href="https://niivue.com/demos/features/connectome.html" target="_blank" rel="noopener noreferrer">connectome live demo</a> demonstrates how NiiVue will dynamically scale these features.</li>
<li>The color and size of connectome nodes and edges can be based on scalar values, for example statistical test scores. In the image above, the edge color is determined by edge strength, and node color by overlay color. Note the edge strength is shown as a matrix that maps the link weight between each node and all others using the <a href="https://www.geeksforgeeks.org/triangular-matrix/" target="_blank" rel="noopener noreferrer">upper triangle</a>.</li>
<li>The <a href="https://niivue.com/demos/features/pointset.html" target="_blank" rel="noopener noreferrer">pointset</a> live demo shows how connectome features can be added and removed.</li>
<li>NiiVue uses a simple JSON format to represent connectomes.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_fF9Z" id="streamlines">Streamlines<a href="#streamlines" class="hash-link" aria-label="Direct link to Streamlines" title="Direct link to Streamlines">​</a></h5>
<ul>
<li>Streamlines are used for tractography data.</li>
<li>Streamlines can either be drawn as single-pixel lines, or extruded to triangulated cylinders. The <code>radius</code> slider of the <a href="https://niivue.com/demos/features/tracts.cylinder.html" target="_blank" rel="noopener noreferrer">tract live demo</a> shows how NiiVue dynamically scales the diameter.</li>
<li>Each vertex of a streamline can be assigned a color based on the global direction, local direction, group, per-vertex or per-streamline properties. The <a href="https://niivue.com/demos/features/tracts.group.html" target="_blank" rel="noopener noreferrer">tract group live demo</a> showcases these properties.</li>
<li>The TrackVis TRK format is popular. However, it uses voxel corner to specify coordinates, rather that the typical voxel center or world space coordinates. While nibabel, Surfice and NiiVue follow this convention, be aware that other tools (included DSI Studio) use voxel centers. This means that TRK files created by one tool can appear shifted by half a voxel in other tools. A <a href="https://github.com/neurolabusc/TRK" target="_blank" rel="noopener noreferrer">validation dataset</a> is available.</li>
<li>Supported streamline-based formats: <a href="https://mrtrix.readthedocs.io/en/latest/getting_started/image_data.html#tracks-file-format-tck" target="_blank" rel="noopener noreferrer">TCK</a>, <a href="http://trackvis.org/docs/?subsect=fileformat" target="_blank" rel="noopener noreferrer">TRK</a>, <a href="https://github.com/frheault/tractography_file_format" target="_blank" rel="noopener noreferrer">TRX</a>, <a href="https://dsi-studio.labsolver.org/doc/cli_data.html" target="_blank" rel="noopener noreferrer">TT</a>, VTK, AFNI .niml.tract</li>
<li>Overlay properties are commonly embedded inside TRX and TRK format streamlines, but can also be loaded from separate <a href="https://mrtrix.readthedocs.io/en/dev/getting_started/image_data.html#track-scalar-file-format-tsf" target="_blank" rel="noopener noreferrer">TSF</a> files.</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/fonts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Fonts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/colormaps2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Advanced Colormaps</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TN1Q thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/niivue/niivue/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Recipes</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/gallery">Gallery</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/niivue/niivue" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 NiiVue authors</div></div></div></footer></div>
</body>
</html>