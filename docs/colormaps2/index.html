<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-colormaps2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Advanced Colormaps | NiiVue</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://niivue.com/docs/colormaps2"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Advanced Colormaps | NiiVue"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://niivue.com/docs/colormaps2"><link data-rh="true" rel="alternate" href="https://niivue.com/docs/colormaps2" hreflang="en"><link data-rh="true" rel="alternate" href="https://niivue.com/docs/colormaps2" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c050c5d0.css">
<script src="/assets/js/runtime~main.9746a549.js" defer="defer"></script>
<script src="/assets/js/main.06011541.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_G6ar" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">NiiVue</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a><a class="navbar__item navbar__link" href="/gallery">Gallery</a><a href="https://niivue.com/demos/devdocs/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/niivue/niivue" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_OLSw colorModeToggle_Hg9V"><button class="clean-btn toggleButton_wYmb toggleButtonDisabled_vaDU" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Sxwe"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Yem1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_bmvg"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_UyTV"><div class="docsWrapper_XLvK"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_z1FD" type="button"></button><div class="docRoot_HciC"><aside class="theme-doc-sidebar-container docSidebarContainer_e5ai"><div class="sidebarViewport_N8x0"><div class="sidebar_vJCc"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_qiME"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Loading images">Loading images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/colormaps">Using Colormaps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/layouts">Layouts and Slice Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/syncing">Synchronizing Multiple Views</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/thresholding">Statistical Thresholding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/drawing">Drawing and Segmentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contribute">Contribute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/develop">Development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/plugins">Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/webgl">WebGL2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/fonts">Fonts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mesh">Mesh</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/colormaps2">Advanced Colormaps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dicom">DICOM</a></li></ul></nav></div></div></aside><main class="docMainContainer_namt"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_YAwJ"><div class="docItemContainer_Rv5Z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zCmv" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JFrk"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Advanced Colormaps</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_O_Qc theme-doc-toc-mobile tocMobile_tjDr"><button type="button" class="clean-btn tocCollapsibleButton_htYj">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Advanced Colormaps</h1></header><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>Medical images typically store scalar intensity values, with each voxel storing a single value to report its brightness. A colormap transforms each voxel intensity to a color with four components: red, green, blue and alpha (opacity).</p>
<p>This page describes the NiiVue format for storing these transforms. NiiVue comes with many built-in colormaps. The <a href="https://niivue.com/demos/features/colormaps.html" target="_blank" rel="noopener noreferrer">colormap live demo</a> allows you to explore these colormaps as well as define custom colormaps.</p>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="basics">Basics<a href="#basics" class="hash-link" aria-label="Direct link to Basics" title="Direct link to Basics">​</a></h2>
<p>You can paste the code snippets below into the <a href="https://niivue.com/demos/features/colormaps.html" target="_blank" rel="noopener noreferrer">colormap live demo</a> and press the <code>custom</code> button to see these colormaps in action. We define the red, green, blue, alpha (RGBA) values with 8 bits per component (0..255).</p>
<p>Consider a colormap that uses transpartent black (RGBA: 0,0,0,0) for the darkest intensity, opaque bright red (255,0,0,255) for intermediate values, and opaque bright green (0,255,0,255) for the brightest intensities. Therefore, this colormap has three nodes (black, red, green) and the resulting colormap could look like this:</p>
<div class="codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">let cmap = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> R: [0, 255, 0],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> G: [0, 0, 255],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> B: [0, 0, 0],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> A: [0, 64, 64],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I: [0, 85, 255],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="colormap1" src="/assets/images/colormap1-683f95356626dc3a57af4b3c0530b5ec.png" width="983" height="326" class="img__Ss2"></p>
<h4 class="anchor anchorWithStickyNavbar_fF9Z" id="alpha">Alpha<a href="#alpha" class="hash-link" aria-label="Direct link to Alpha" title="Direct link to Alpha">​</a></h4>
<p>The Alpha component sets the opacity of the volume rendering. For most MR modalities, air has darker intensities than tissues, and we want to make the air transparent. Therefore, in the example above, the air is completely transparent (A: 0) while the brain is translucent (A: 64). In the example below, we make the air have a little opacity (A: 0). Notice the rendering shows the brain surrounded by haze.</p>
<div class="codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">let cmap = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> R: [0, 255, 128],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> G: [0, 0, 128],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> B: [0, 0, 255],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> A: [6, 64, 64],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I: [0, 85, 255],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="colormap2" src="/assets/images/colormap2-5c14216ff254f5a2909b3d818f4842f8.png" width="983" height="326" class="img__Ss2"></p>
<h4 class="anchor anchorWithStickyNavbar_fF9Z" id="index">Index<a href="#index" class="hash-link" aria-label="Direct link to Index" title="Direct link to Index">​</a></h4>
<p>The least intuitive aspect of the colormap is the index component (<code>I</code>). This should be zero for the first node and 255 for the final node, and intermediate nodes placed between these two extremes. To visualize the influence of the node position, consider changing the position of the middle (red) node from <code>85</code> to <code>170</code>. The colormap gradient still has the order black, red, green but the black-red portion is now larger and the red-green is now shorter.</p>
<div class="codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">let cmap = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> R: [0, 255, 0],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> G: [0, 0, 255],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> B: [0, 0, 0],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> A: [0, 64, 64],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I: [0, 170, 255],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="colormap3" src="/assets/images/colormap3-e7fa89f0466f9111d81232ca8e72a2cf.png" width="983" height="326" class="img__Ss2"></p>
<h4 class="anchor anchorWithStickyNavbar_fF9Z" id="range-minmax">Range (min..max)<a href="#range-minmax" class="hash-link" aria-label="Direct link to Range (min..max)" title="Direct link to Range (min..max)">​</a></h4>
<p>You can optionally specify the <code>min</code> and <code>max</code> range for the colormap. In the example below, this clamps the colorbar to the range 40..60. This is useful for CT images, where voxel intensity reflects <a href="https://en.wikipedia.org/wiki/Hounsfield_scale" target="_blank" rel="noopener noreferrer">calibrated Hounsfield Units</a>. However, this is typically not useful for MR images, where most sequences generate relative intensities. Therefore, for MR the minimum and maximum can vary between images. When the image intensity range is not specified, NiiVue will set the default range of the colorbars to the <a href="https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/Fslutils" target="_blank" rel="noopener noreferrer">robust range</a>.</p>
<div class="codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">let cmap = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> min: 40,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> max: 60,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> R: [0, 255, 0],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> G: [0, 0, 255],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> B: [0, 0, 0],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> A: [0, 64, 64],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I: [0, 85, 255],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="colormap4" src="/assets/images/colormap4-3a04675daa4866be94410a711ebe2d77.png" width="983" height="326" class="img__Ss2"></p>
<h4 class="anchor anchorWithStickyNavbar_fF9Z" id="shortcuts">Shortcuts<a href="#shortcuts" class="hash-link" aria-label="Direct link to Shortcuts" title="Direct link to Shortcuts">​</a></h4>
<p>All colormaps must specify the vectors Red (<code>R</code>), Green (<code>G</code>) and Blue (<code>B</code>). These three vectors <strong>must</strong> have the same number of elements as each other, and <strong>must</strong> have at least two elements and no more than 256 elements. If you do not specify the Indices (<code>I</code>), the nodes will be evenly between 0 and 255. If you do not specify the Alpha (<code>A</code>) the first node will have be transparent (A: 0) and all others will be translucent (A: 64). Therefore, the following is a valid colormap:</p>
<div class="codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">let cmap = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> R: [0, 255, 0],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> G: [0, 0, 255],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> B: [0, 0, 0],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="negative-colormaps">Negative Colormaps<a href="#negative-colormaps" class="hash-link" aria-label="Direct link to Negative Colormaps" title="Direct link to Negative Colormaps">​</a></h2>
<p>Objects can specify both a positive and a negative color map. For example, this <a href="https://niivue.com/demos/features/alphathreshold.html" target="_blank" rel="noopener noreferrer">voxel-based image</a> uses the <code>warm</code> colormap and the <code>winter</code> colormapNegative. Alternatively, this <a href="https://niivue.com/demos/features/mesh.stats.html" target="_blank" rel="noopener noreferrer">mesh</a> uses the <code>green2orange </code> colormap and the <code>green2cyan </code> colormapNegative. This allows statistical maps to highlight correlated as well as anti-correlated contrasts.</p>
<p><img decoding="async" loading="lazy" alt="colormapNegative" src="/assets/images/colormapNegative-d5134554caa4611ba8050a7f30d4fa73.png" width="897" height="549" class="img__Ss2"></p>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="atlases-and-labeled-images">Atlases and Labeled Images<a href="#atlases-and-labeled-images" class="hash-link" aria-label="Direct link to Atlases and Labeled Images" title="Direct link to Atlases and Labeled Images">​</a></h2>
<p>The NiiVue colormaps described above are ideal for continuous images, but are not appropriate for indexed images such as atlases that have discrete tissues. The function <code>setColormapLabel()</code> allows you to override the previously described continuous colormap with a custom discrete colormap.</p>
<p>Consider an MRI scan that has been segmented with <a href="https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FIRST" target="_blank" rel="noopener noreferrer">FSL FIRST</a>. This can generate a volume where there are discrete tissues that we will want to map to specific colors and label with names. In this case, the segmented image may have the intensities 0 for Air, 1 for water, 2 for gray matter and 3 for white matter. This <a href="https://niivue.com/demos/features/segment.html" target="_blank" rel="noopener noreferrer">labeled live demo</a> uses this colormap:</p>
<div class="codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">let cmap = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> R: [0,   0, 120, 175],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> G: [0,  90,  60, 185],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> B: [0, 120,  60, 175],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I: [0, 1, 2, 3],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> labels: [&quot;air&quot;,&quot;CSF&quot;,&quot;gray&quot;,&quot;white&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="colormap4" src="/assets/images/label-a5b713014663e303c458af083d901640.png" width="835" height="285" class="img__Ss2"></p>
<p>Note that each region can include a label, for example in the image the text reports that the crosshair points to a voxel with the <code>CSF</code> identity. The <code>labels</code> field is used to describe all regions.</p>
<p>Like continuous colormaps, the alpha (<code>A</code>) field is optional.</p>
<p>A major difference between indexed colormaps and continuous colormaps is that the indices (the <code>I</code> field) explicitly describes the intensity associated with a label. Labels can have more than 256 distinct regions, and the indices can be sparse. For example, consider an atlas image where the classes are air (0), CSF (1), Gray (2) and Whte (5), with the no voxels correspondong with intensity of 3 or 4. In this case, we could simply list the four discrete tissues defined:</p>
<div class="codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">let cmap = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> R: [0,   0, 120, 175],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> G: [0,  90,  60, 185],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> B: [0, 120,  60, 175],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> I: [0, 1, 2, 5],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> labels: [&quot;air&quot;,&quot;CSF&quot;,&quot;gray&quot;,&quot;white&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>I</code> field is optional: if it is not provided the labels are considered to be in the range of 0..n-1. Therefore, it is only required if the labels are sparse or do not begin from 0.</p>
<p>The <a href="https://niivue.com/demos/features/segment.html" target="_blank" rel="noopener noreferrer">labeled voxel live demo</a> and <a href="https://niivue.com/demos/features/mesh.atlas.gii.html" target="_blank" rel="noopener noreferrer">labeled mesh live demo</a> allow you to interactively change the colormaps.</p>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="links">Links<a href="#links" class="hash-link" aria-label="Direct link to Links" title="Direct link to Links">​</a></h2>
<ul>
<li>NiiVue includes the <a href="https://jmsallan.netlify.app/blog/the-viridis-palettes/" target="_blank" rel="noopener noreferrer">viridism color schemes</a> which are perceptually-uniform easier to read by those with colorblindness.</li>
<li>Many NiiVue colormaps <a href="https://github.com/CPernet/brain_colours" target="_blank" rel="noopener noreferrer">are adjusted for improved perceptual uniformity</a>.</li>
<li>NiiVue shares several colormaps with <a href="https://matplotlib.org/stable/tutorials/colors/colormaps.html#sequential" target="_blank" rel="noopener noreferrer">Matplotlib</a> and Python scripts are <a href="https://github.com/niivue/Py2NiiVueColormaps" target="_blank" rel="noopener noreferrer">available to convert many other colormaps</a>.</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/mesh"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Mesh</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/dicom"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">DICOM</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TN1Q thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#basics" class="table-of-contents__link toc-highlight">Basics</a></li><li><a href="#negative-colormaps" class="table-of-contents__link toc-highlight">Negative Colormaps</a></li><li><a href="#atlases-and-labeled-images" class="table-of-contents__link toc-highlight">Atlases and Labeled Images</a></li><li><a href="#links" class="table-of-contents__link toc-highlight">Links</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/niivue/niivue/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Recipes</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/gallery">Gallery</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/niivue/niivue" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 NiiVue authors</div></div></div></footer></div>
</body>
</html>